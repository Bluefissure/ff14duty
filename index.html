<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/>
</head>
<body>
    <div id="div">
        <IFRAME id="iframe" src="https://ff14.org/duty/" width=100%  height=90% scrolling=yes ALLOWTRANSPARENCY="false"></IFRAME>
    </div>
<script type="text/javascript" src="./common.min.js"></script>
<script>
    let zoneNameMap = {
        "天然要害沙斯塔夏溶洞": 4,
        "地下灵殿塔姆·塔拉墓园": 2,
        "封锁坑道铜铃铜山": 3,
        "魔兽领域日影地修炼所": 7,
        "监狱废墟托托·拉克千狱": 1,
        "名门府邸静语庄园": 6,
        "休养胜地布雷福洛克斯野营地": 8,
        "古代遗迹喀恩埋没圣堂": 9,
        "流沙迷宫樵鸣洞": 12,
        "对龙城塞石卫塔": 11,
        "山中战线泽梅尔要塞": 13,
        "毒雾洞窟黄金谷": 5,
        "神灵圣域放浪神古神殿": 10,
        "帝国南方堡外围激战": 15,
        "天幕魔导城最终决战": 16,
        "邪教驻地无限城古堡": 14,
        "领航明灯天狼星灯塔": 17,
        "骚乱坑道铜铃铜山": 18,
        "恶灵府邸静语庄园": 19,
        "腐坏遗迹无限城市街古迹": 22,
        "剑斗领域日影地修炼所": 21,
        "纷争要地布雷福洛克斯野营地": 20,
        "财宝传说破舰岛": 23,
        "惨剧灵殿塔姆·塔拉墓园": 24,
        "激战城塞石卫塔": 25,
        "凛冽洞天披雪大冰壁": 27,
        "逆转要害沙斯塔夏溶洞": 28,
        "苏醒遗迹喀恩埋没圣堂": 26,
        "幻龙残骸密约之塔": 32,
        "武装圣域放浪神古神殿": 30,
        "邪念妖地无限城古堡": 29,
        "冰雪废堡暮卫塔": 36,
        "天山绝顶索姆阿尔灵峰": 37,
        "邪龙王座龙巢神殿": 39,
        "圣教中枢伊修加德教皇厅": 34,
        "学识宝库迦巴勒幻想图书馆": 31,
        "血战苍穹魔科学研究所": 38,
        "空中神域不获岛": 33,
        "博物战舰无限回廊": 35,
        "草木庭园圣茉夏娜植物园": 41,
        "地脉灵灯天狼星灯塔": 40,
        "星海空间颠倒塔": 141,
        "神圣遗迹无限城市街古迹": 140,
        "天龙宫殿忆罪宫": 171,
        "黑涡传说破舰岛": 172,
        "险峻峡谷塞尔法特尔溪谷": 182,
        "秘本宝库迦巴勒幻想图书馆": 196,
        "坚牢铁壁巴埃萨长城": 219,
        "天山深境索姆阿尔灵峰": 221,
        "漂流海域妖歌海": 238,
        "海底宫殿紫水宫": 235,
        "试炼行路巴儿达木霸道": 240,
        "解放决战多玛王城": 241,
        "巨炮要塞帝国白山堡": 242,
        "鏖战红莲阿拉米格": 247,
        "恶党孤城黄金阁": 262,
        "修行古刹星导寺": 236,
        "沉没神殿斯卡拉遗迹": 279,
        "红玉火山狱之盖": 284,
        "疯狂战舰无限回廊": 285,
        "风水灵庙岩燕庙": 536,
        "死亡大地终末焦土": 585,
        "污染庭园圣茉夏娜植物园": 584,
        "国境战线基姆利特暗区": 611,
        "遇袭集落水滩村": 676,
        "水妖幻园多恩美格禁园": 649,
        "文明古迹奇坦那神影洞": 651,
        "避暑离宫马利卡大井": 656,
        "伪造天界格鲁格火山": 659,
        "末日暗影亚马乌罗提": 652,
        "异界遗构希尔科斯孪晶塔": 655,
        "创造机构阿尼德罗学院": 661,
        "魔法宫殿宇宙宫": 692,
        "黑风海底 阿尼德罗追忆馆": 714,
        "伊弗利特讨伐战": 56,
        "泰坦讨伐战": 57,
        "迦楼罗讨伐战": 58,
        "里塔提恩强攻战": 62,
        "那布里亚勒斯讨伐战": 84,
        "皇都伊修加德保卫战": 83,
        "死化奇美拉讨伐战": 74,
        "海德拉讨伐战": 75,
        "大桥上的决斗": 76,
        "艾玛吉娜杯斗技大会决赛": 81,
        "无限城的死斗": 85,
        "伊弗利特歼灭战": 59,
        "迦楼罗歼灭战": 61,
        "泰坦歼灭战": 60,
        "莫古力贤王歼灭战": 66,
        "利维亚桑歼灭战": 72,
        "拉姆歼灭战": 77,
        "希瓦歼灭战": 79,
        "奥丁歼灭战": 82,
        "究极神兵破坏作战": 68,
        "迦楼罗歼殛战": 65,
        "泰坦歼殛战": 64,
        "伊弗利特歼殛战": 63,
        "莫古力贤王歼殛战": 67,
        "利维亚桑歼殛战": 73,
        "拉姆歼殛战": 78,
        "希瓦歼殛战": 80,
        "罗波那歼灭战": 86,
        "俾斯麦歼灭战": 88,
        "圆桌骑士歼灭战": 90,
        "尼德霍格征龙战": 169,
        "萨菲洛特歼灭战": 134,
        "索菲娅歼灭战": 183,
        "祖尔宛歼灭战": 223,
        "俾斯麦歼殛战": 89,
        "罗波那歼殛战": 87,
        "圆桌骑士幻想歼灭战": 91,
        "尼德霍格传奇征龙战": 170,
        "萨菲洛特歼殛战": 135,
        "索菲娅歼殛战": 184,
        "祖尔宛歼殛战": 224,
        "须佐之男歼灭战": 243,
        "吉祥天女歼灭战": 263,
        "神龙歼灭战": 239,
        "月读歼灭战": 537,
        "保镖歼灭战": 595,
        "火龙狩猎战": 474,
        "白虎镇魂战": 290,
        "朱雀镇魂战": 596,
        "青龙镇魂战": 637,
        "须佐之男歼殛战": 244,
        "吉祥天女歼殛战": 264,
        "神龙梦幻歼灭战": 278,
        "月读幽夜歼灭战": 538,
        "火龙上位狩猎战": 475,
        "白虎诗魂战": 291,
        "朱雀诗魂战": 597,
        "青龙诗魂战": 638,
        "缇坦妮雅歼灭战": 657,
        "无瑕灵君歼灭战": 666,
        "哈迪斯歼灭战": 687,
        "红宝石神兵破坏作战": 717,
        "缇坦妮雅歼殛战": 658,
        "无瑕灵君歼殛战": 667,
        "哈迪斯孤念歼灭战": 693,
        "红宝石神兵狂想作战": 718,
        "水晶塔 古代人迷宫": 92,
        "水晶塔 希尔科斯塔": 102,
        "水晶塔 暗之世界": 111,
        "巴哈姆特大迷宫 邂逅之章5": 97,
        "巴哈姆特大迷宫 入侵之章4": 101,
        "巴哈姆特大迷宫 真源之章4": 110,
        "魔航船虚无方舟": 120,
        "禁忌城邦玛哈": 168,
        "影之国": 220,
        "亚历山大机神城 启动之章1": 112,
        "亚历山大机神城 启动之章2": 113,
        "亚历山大机神城 启动之章3": 114,
        "亚历山大机神城 启动之章4": 115,
        "亚历山大机神城 律动之章1": 136,
        "亚历山大机神城 律动之章2": 137,
        "亚历山大机神城 律动之章3": 138,
        "亚历山大机神城 律动之章4": 139,
        "亚历山大机神城 天动之章1": 186,
        "亚历山大机神城 天动之章2": 187,
        "亚历山大机神城 天动之章3": 188,
        "亚历山大机神城 天动之章4": 189,
        "亚历山大零式机神城 启动之章4": 119,
        "亚历山大零式机神城 律动之章4": 150,
        "亚历山大零式机神城 天动之章4": 193,
        "失落之都拉巴纳斯塔": 281,
        "封闭圣塔黎铎拉纳大灯塔": 550,
        "乐欲之所瓯博讷修道院": 636,
        "欧米茄时空狭缝 德尔塔幻境1": 252,
        "欧米茄时空狭缝 德尔塔幻境2": 253,
        "欧米茄时空狭缝 德尔塔幻境3": 254,
        "欧米茄时空狭缝 德尔塔幻境4": 255,
        "欧米茄时空狭缝 西格玛幻境1": 286,
        "欧米茄时空狭缝 西格玛幻境2": 287,
        "欧米茄时空狭缝 西格玛幻境3": 288,
        "欧米茄时空狭缝 西格玛幻境4": 289,
        "欧米茄时空狭缝 阿尔法幻境1": 587,
        "欧米茄时空狭缝 阿尔法幻境2": 588,
        "欧米茄时空狭缝 阿尔法幻境3": 589,
        "欧米茄时空狭缝 阿尔法幻境4": 590,
        "复制工厂废墟": 700,
        "伊甸希望乐园 觉醒之章1": 653,
        "伊甸希望乐园 觉醒之章2": 684,
        "伊甸希望乐园 觉醒之章3": 682,
        "伊甸希望乐园 觉醒之章4": 689,
        "伊甸希望乐园 共鸣之章1": 715,
        "伊甸希望乐园 共鸣之章2": 719,
        "伊甸希望乐园 共鸣之章3": 726,
        "伊甸希望乐园 共鸣之章4": 728,
        "伊甸零式希望乐园 觉醒之章4": 690,
        "伊甸零式希望乐园 共鸣之章4": 729,
        "巴哈姆特绝境战": 280,
        "究极神兵绝境战": 539,
        "亚历山大绝境战": 694, 
    }
    let display = false;
    addOverlayListener("ChangeZone", (e) => {
        let zoneName = e.zoneName.replace('(', '').replace(')', '');
        display = false;
        if (zoneName in zoneNameMap){
            let iframe = document.getElementById('iframe');
            let zoneId = zoneNameMap[zoneName];
            // console.log(zoneName + " " + zoneId);
            iframe.src = "https://ff14.org/duty/" + zoneId + ".htm";
            display = true;
        }
        displayOrHideOverlay();
    });
    addOverlayListener("LogLine", (e) => {
        if (e.line[2] === "0038" && e.line[4] === "duty"){
            display = !display;
        }
        displayOrHideOverlay();
    });
    startOverlayEvents();

    function displayOrHideOverlay() {
        let div = document.getElementById('div');
        if (display)
            div.style.visibility = 'visible';
        else
            div.style.visibility = 'hidden';
    }
</script>
</body>
</html>